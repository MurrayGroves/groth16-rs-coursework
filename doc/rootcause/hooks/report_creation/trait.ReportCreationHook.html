<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A hook that is called whenever a report is created."><title>ReportCreationHook in rootcause::hooks::report_creation - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="rootcause" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.1 (ed61e7d7e 2025-11-07)" data-channel="1.91.1" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">ReportCreationHook</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../rootcause/index.html">rootcause</a><span class="version">0.10.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Report<wbr>Creation<wbr>Hook</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#examples" title="Examples">Examples</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.on_local_creation" title="on_local_creation">on_local_creation</a></li><li><a href="#tymethod.on_sendsync_creation" title="on_sendsync_creation">on_sendsync_creation</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In rootcause::<wbr>hooks::<wbr>report_<wbr>creation</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">rootcause</a>::<wbr><a href="../index.html">hooks</a>::<wbr><a href="index.html">report_creation</a></div><h1>Trait <span class="trait">Report<wbr>Creation<wbr>Hook</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/rootcause/hooks/report_creation.rs.html#167-175">Source</a> </span></div><pre class="rust item-decl"><code>pub trait ReportCreationHook:
    'static
    + <a class="trait" href="https://doc.rust-lang.org/1.91.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.91.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
    // Required methods
    fn <a href="#tymethod.on_local_creation" class="fn">on_local_creation</a>(&amp;self, report: <a class="struct" href="../../struct.ReportMut.html" title="struct rootcause::ReportMut">ReportMut</a>&lt;'_, dyn <a class="trait" href="../../prelude/trait.Any.html" title="trait rootcause::prelude::Any">Any</a>, <a class="struct" href="../../markers/struct.Local.html" title="struct rootcause::markers::Local">Local</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.on_sendsync_creation" class="fn">on_sendsync_creation</a>(&amp;self, report: <a class="struct" href="../../struct.ReportMut.html" title="struct rootcause::ReportMut">ReportMut</a>&lt;'_, dyn <a class="trait" href="../../prelude/trait.Any.html" title="trait rootcause::prelude::Any">Any</a>, <a class="struct" href="../../markers/struct.SendSync.html" title="struct rootcause::markers::SendSync">SendSync</a>&gt;);
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A hook that is called whenever a report is created.</p>
<p>Report creation hooks provide a way to automatically modify or enhance
reports as they are being created, without requiring changes to the code
that creates the reports. This is useful for adding consistent metadata,
logging, or performing other side effects.</p>
<p>If you only need to add attachments, then consider using an
<a href="trait.AttachmentCollectorHook.html" title="trait rootcause::hooks::report_creation::AttachmentCollectorHook"><code>AttachmentCollectorHook</code></a> instead, as it gives you an easier to use API
for this use case.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">ยง</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>rootcause::{
    ReportMut,
    hooks::report_creation::{ReportCreationHook, register_report_creation_hook},
    markers::{Local, SendSync},
    prelude::<span class="kw-2">*</span>,
};

<span class="kw">struct </span>LoggingHook;

<span class="kw">impl </span>ReportCreationHook <span class="kw">for </span>LoggingHook {
    <span class="kw">fn </span>on_local_creation(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="kw-2">mut </span>report: ReportMut&lt;<span class="lifetime">'_</span>, <span class="kw">dyn </span>std::any::Any, Local&gt;) {
        <span class="macro">println!</span>(<span class="string">"Local report created: {}"</span>, report);
        <span class="kw">let </span>attachment = <span class="macro">report_attachment!</span>(<span class="string">"Logged by LoggingHook"</span>);
        report.attachments_mut().push(attachment.into());
    }

    <span class="kw">fn </span>on_sendsync_creation(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="kw-2">mut </span>report: ReportMut&lt;<span class="lifetime">'_</span>, <span class="kw">dyn </span>std::any::Any, SendSync&gt;) {
        <span class="macro">println!</span>(<span class="string">"SendSync report created: {}"</span>, report);
        <span class="kw">let </span>attachment = <span class="macro">report_attachment!</span>(<span class="string">"Logged by LoggingHook"</span>);
        report.attachments_mut().push(attachment.into());
    }
}

<span class="comment">// Register the hook to activate it
</span>register_report_creation_hook(LoggingHook);</code></pre></div></div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">ยง</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.on_local_creation" class="method"><a class="src rightside" href="../../../src/rootcause/hooks/report_creation.rs.html#170">Source</a><h4 class="code-header">fn <a href="#tymethod.on_local_creation" class="fn">on_local_creation</a>(&amp;self, report: <a class="struct" href="../../struct.ReportMut.html" title="struct rootcause::ReportMut">ReportMut</a>&lt;'_, dyn <a class="trait" href="../../prelude/trait.Any.html" title="trait rootcause::prelude::Any">Any</a>, <a class="struct" href="../../markers/struct.Local.html" title="struct rootcause::markers::Local">Local</a>&gt;)</h4></section></summary><div class="docblock"><p>Called when a <a href="../../markers/struct.Local.html" title="struct rootcause::markers::Local"><code>Local</code></a> report is created.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.on_sendsync_creation" class="method"><a class="src rightside" href="../../../src/rootcause/hooks/report_creation.rs.html#174">Source</a><h4 class="code-header">fn <a href="#tymethod.on_sendsync_creation" class="fn">on_sendsync_creation</a>(&amp;self, report: <a class="struct" href="../../struct.ReportMut.html" title="struct rootcause::ReportMut">ReportMut</a>&lt;'_, dyn <a class="trait" href="../../prelude/trait.Any.html" title="trait rootcause::prelude::Any">Any</a>, <a class="struct" href="../../markers/struct.SendSync.html" title="struct rootcause::markers::SendSync">SendSync</a>&gt;)</h4></section></summary><div class="docblock"><p>Called when a <a href="../../markers/struct.SendSync.html" title="struct rootcause::markers::SendSync"><code>SendSync</code></a> report is created.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">ยง</a></h2><div id="implementors-list"><section id="impl-ReportCreationHook-for-BacktraceCollector" class="impl"><a class="src rightside" href="../../../src/rootcause/hooks/builtin_hooks/backtrace.rs.html#253-285">Source</a><a href="#impl-ReportCreationHook-for-BacktraceCollector" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.ReportCreationHook.html" title="trait rootcause::hooks::report_creation::ReportCreationHook">ReportCreationHook</a> for <a class="struct" href="../builtin_hooks/backtrace/struct.BacktraceCollector.html" title="struct rootcause::hooks::builtin_hooks::backtrace::BacktraceCollector">BacktraceCollector</a></h3></section></div><script src="../../../trait.impl/rootcause/hooks/report_creation/trait.ReportCreationHook.js" async></script></section></div></main></body></html>